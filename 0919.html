<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
<div class="box"></div>
<div class="box box1"></div>
<div class="box box1 box2"></div>
<div class="box1 box2"></div>
<div id="xiao" class="box1"></div>
<script>
window.onload =function(){
   var box = getClass('box');
   console.log(box)
   for(var i=0;i<box.length;i++){
        box[i].innerHTML ='zhehsi box'
   }


$('.box')[0].innerHTML = 'hezi';
$('#xiao').innerHTML='xx'
$('div')[0].innerHTML='yy'
console.log($('div')[0])
// 兼容
function getClass(className,range){
	range=range?range:document;
	if(document.getElementsByClassName){
		return range.getElementsByClassName(className);
	}else{
		var arr = [];
		var all = range.getElementsByTagName('*');
		for(var i = 0; i < all.length; i++){
			// if(all[i].className == classname){
			if(checkClass(all[i].className,classname)){
				newarr.push(all[i]);
			}
		}
		return newarr;
	}
}

// 拆分
function checkClassname(className,classname){
	var arr = className.split(' ');
	for(var i=0; i<arr.length;i++){
		if(arr[i] == classname){
          return true;
		}
	}
	return false;
}


function $(select,ranger){
	ranger = ranger || document
	var first = select.charAt(0)
	if(first=='.'){
       return getClass(select.substring(1))
	}else if(first=='#'){
       return document.getElementById(select.substring(1),ranger)
	}else if(/^[a-z][a-z1-6]{0,7}$/.test(select)){
       return ranger.getElementsByTagName(select)
	}
}

}

</script>
	
</body>
</html>